!function(e,t){let i="",n="",s=JSON.parse(sessionStorage.getItem("ISSUES-NODES"));const o=["ad2e32","4c82c521ead6ff8","197e482a62695433637"].join("");function a(){s.forEach((e=>{let t=function(e,t){var i=6e4,n=36e5,s=864e5,o=2592e6,a=31536e6,c=e-t;let r;return c<i?(r=Math.round(c/1e3),r>1?r+" seconds ago":r+" second ago"):c<n?(r=Math.round(c/i),r>1?r+" minutes ago":r+" minute ago"):c<s?(r=Math.round(c/n),r>1?r+" hours ago":r+" hour ago"):c<o?(r=Math.round(c/s),r>1?r+" days ago":r+" day ago"):c<a?(r=Math.round(c/o),r>1?r+" months ago":r+" month ago"):(r=Math.round(c/a),r>1?r+" years ago":r+" year ago")}((new Date).getTime(),new Date(e.createdAt).getTime());n+='<div class="is-issue-content"><em>üçì Yummyü•ù </em><pre class="cacher-snippet-code"><div class="ca-hljs">'+e.bodyHTML+'</div></pre><div class="cacher-snippet-footer" id="snippetFoot"><em>'+t+"</em></div></div>"})),document.querySelector("#microw").innerHTML=n}s?a():async function(){const e=axios.create({headers:{accept:"application/json",authorization:"bearer ".concat(o),"content-type":"application/json;charset=UTF-8"}});i=await e.post("https://api.github.com/graphql",'{"operationName":"getIssues","query":"\\n  query getIssues($owner: String!, $repo: String!, $cursor: String, $pageSize: Int!) {\\n    repository(owner: $owner, name: $repo) {\\n      issues(first: $pageSize, after: $cursor, orderBy: {field: CREATED_AT, direction: DESC}, filterBy: {createdBy: $owner, states: OPEN}) {\\n        pageInfo {\\n          hasNextPage\\n          endCursor\\n        }\\n        nodes {\\n          id\\n          number\\n          createdAt\\n          bodyHTML\\n          comments(first: 1) {\\n            totalCount\\n          }\\n          labels(first: 1) {\\n            nodes {\\n              name\\n              color\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n  ","variables":{"owner":"ym-first","repo":"ymBlog","pageSize":6}}'),s=i.data.data.repository.issues.nodes,sessionStorage.setItem("ISSUES-NODES",JSON.stringify(s)),a()}();const c=t.body,r=t.querySelector.bind(t),l=t.querySelectorAll.bind(t),d=r("html"),h=r("#gotop"),u=r("#menu"),f=r("#main"),m=r("#header"),g=r("#mask"),p=r("#menu-toggle"),v=r("#menu-off"),L=r(".header-title"),y=r("#loading"),w=-1!==location.href.indexOf("post"),$=e.requestAnimationFrame,E=Array.prototype.forEach,S=/micromessenger/i.test(navigator.userAgent),x=function(){},T=function(e){let t=e.offsetLeft,i=e.offsetTop;if(e.offsetParent){const n=arguments.callee(e.offsetParent);t+=n.x,i+=n.y}return{x:t,y:i}};let O="ontouchstart"in e&&/Mobile|Android|iOS|iPhone|iPad|iPod|Windows Phone|KFAPWI/i.test(navigator.userAgent)?"touchstart":"click",b=t.documentElement;e.innerWidth>600?(window.navigator.userAgent.indexOf("WOW")>-1||window.navigator.userAgent.indexOf("Edge")>-1||window.navigator.userAgent.indexOf("MSIE")>-1)&&-1===window.navigator.userAgent.indexOf("Trident")&&(b=c):window.navigator.userAgent.indexOf("Android")>-1&&window.navigator.userAgent.indexOf("Browser")>-1&&(b=c);const M={goTop:function(e){const t=b.scrollTop,i=arguments.length>2?arguments[1]:Math.abs(t-e)/12;t&&t>e?(b.scrollTop=Math.max(t-i,0),$(arguments.callee.bind(this,e,i))):e&&t<e?(b.scrollTop=Math.min(t+i,e),$(arguments.callee.bind(this,e,i))):this.toc.actived(e)},toggleGotop:function(t){t>e.innerHeight/2?h.classList.add("in"):h.classList.remove("in")},toggleMenu:function(t){if(t){if(u.classList.remove("hide"),w||(f.classList.remove("menuoff"),jQuery(L).animate({marginRight:"15%"})),e.innerWidth<1241)if(g.classList.add("in"),u.classList.add("show"),S){const e=b.scrollTop;f.classList.add("lock"),f.scrollTop=e}else d.classList.add("lock")}else if(g.classList.remove("in"),u.classList.remove("show"),S){const e=f.scrollTop;f.classList.remove("lock"),b.scrollTop=e}else d.classList.remove("lock")},fixedHeader:function(e){e>m.clientHeight?m.classList.add("fixed"):m.classList.remove("fixed")},toc:function(){const e=r("#post-toc");if(!e||!e.children.length)return w&&f.classList.add("show"),{fixed:x,actived:x};const t=r(".post-header").clientHeight,i=m.clientHeight,n=r("#post-content").querySelectorAll("h1, h2, h3, h4, h5, h6");return e.querySelector(`a[href="#${n[0].id}"]`).parentNode.classList.add("active"),f.classList.add("tocshow"),L.classList.add("toc"),r(".footer").classList.add("toc"),{fixed:function(n){n>=t-i?e.classList.add("fixed"):e.classList.remove("fixed")},actived:function(t){for(let s=0,o=n.length;s<o;s++)if(t>T(n[s]).y-i-5){e.querySelector("li.active").classList.remove("active");e.querySelector(`a[href="#${n[s].id}"]`).parentNode.classList.add("active")}t<T(n[0]).y&&(e.querySelector("li.active").classList.remove("active"),e.querySelector(`a[href="#${n[0].id}"]`).parentNode.classList.add("active"))}}}(),hideOnMask:[],modal:function(i){this.$modal=r(i),this.$off=this.$modal.querySelector(".close");const n=this;this.show=function(){g.classList.add("in"),e.innerWidth>800&&(f.classList.add("Mask"),u.classList.add("Mask")),n.$modal.classList.add("ready"),setTimeout((function(){n.$modal.classList.add("in")}),0)},this.onHide=x,this.hide=function(){if(n.onHide(),g.classList.remove("in"),e.innerWidth>800){f.classList.remove("Mask"),u.classList.remove("Mask");const e=t.querySelector(".imgShow");e&&document.body.removeChild(e)}n.$modal.classList.remove("in"),setTimeout((function(){n.$modal.classList.remove("ready")}),300)},this.toggle=function(){return n.$modal.classList.contains("in")?n.hide():n.show()},M.hideOnMask.push(this.hide),this.$off&&this.$off.addEventListener(O,this.hide)},share:function(){const e=r("#pageShare"),i=r("#shareFab"),n=new this.modal("#globalShare");i&&(i.addEventListener(O,(function(){e.classList.toggle("in")}),!1),t.addEventListener(O,(function(t){i.contains(t.target)||e.classList.remove("in")}),!1));const s=new this.modal("#wxShare");s.onHide=n.hide,E.call(l(".wxFab"),(function(e){e.addEventListener(O,s.toggle)}))},reward:function(){const e=new this.modal("#reward"),t=r("#rewardCode"),i=r("#rewardToggle");let n=!1,s=-1;const o=r(".wechatPay"),a=r(".alipayPay"),c=r(".icon-caret-up");r("#rewardBtn").addEventListener(O,(function(){-1===s?t.src=t.dataset.img:1===s?t.src=i.dataset.alipay:0===s&&(t.src=i.dataset.wechat),e.toggle()})),o.addEventListener("click",(function(){n=!0})),i&&i.addEventListener("change",(function(){this.checked?n?(t.src=this.dataset.wechat,a.classList.remove("show"),o.classList.add("show"),c.style="margin-left:-20%;",s=0):(t.src=this.dataset.alipay,a.classList.add("show"),o.classList.remove("show"),c.style="margin-left:20%;",this.checked=!1,s=1):(t.src=this.dataset.alipay,a.classList.add("show"),o.classList.remove("show"),c.style="margin-left:20%;",s=1)}))},tabBar:function(e){e.parentNode.parentNode.classList.toggle("expand")},page:function(){const e=l(".fade, .fade-scale");let t=!1;return{loaded:function(){E.call(e,(function(e){e.classList.add("in")})),t=!0},unload:function(){E.call(e,(function(e){e.classList.remove("in")})),t=!1},visible:t}}(),lightbox:function(){function i(i){let n,s,o,a,r;this.$img=i.querySelector("img"),this.$overlay=i.querySelector("overlay"),this.margin=40,this.title=this.$img.title||this.$img.alt||"",this.isZoom=!1,this.calcRect=function(){a=c.clientWidth,r=c.clientHeight;const e=r-2*this.margin;let t=n,i=s;this.margin;const l=t>a?a/t:1,d=i>e?e/i:1,h=Math.min(l,d);return t*=h,i*=h,{w:t,h:i,t:(r-i)/2-o.top,l:(a-t)/2-o.left+this.$img.offsetLeft}},this.setImgRect=function(e){this.$img.style.cssText=`width: ${e.w}px; max-width: ${e.w}px; height:${e.h}px; top: ${e.t}px; left: ${e.l}px`},this.setFrom=function(){this.setImgRect({w:o.width,h:o.height,t:0,l:(i.offsetWidth-o.width)/2})},this.setTo=function(){this.setImgRect(this.calcRect())},this.addTitle=function(){this.title&&(this.$caption=t.createElement("div"),this.$caption.innerHTML=this.title,this.$caption.className="overlay-title",i.appendChild(this.$caption))},this.removeTitle=function(){this.$caption&&i.removeChild(this.$caption)};const l=this;this.zoomIn=function(){n=this.$img.naturalWidth||this.$img.width,s=this.$img.naturalHeight||this.$img.height,o=this.$img.getBoundingClientRect(),i.style.height=`${o.height}px`,i.classList.add("ready"),this.setFrom(),this.addTitle(),this.$img.classList.add("zoom-in"),setTimeout((function(){i.classList.add("active"),l.setTo(),l.isZoom=!0}),0)},this.zoomOut=function(){this.isZoom=!1,i.classList.remove("active"),this.$img.classList.add("zoom-in"),this.setFrom(),setTimeout((function(){l.$img.classList.remove("zoom-in"),l.$img.style.cssText="",l.removeTitle(),i.classList.remove("ready"),i.removeAttribute("style")}),300)},i.addEventListener("click",(function(e){l.isZoom?l.zoomOut():"IMG"===e.target.tagName&&l.zoomIn()})),t.addEventListener("scroll",(function(){l.isZoom&&l.zoomOut()})),e.addEventListener("resize",(function(){l.isZoom&&l.zoomOut()}))}E.call(l(".img-lightbox"),(function(e){new i(e)}))}(),loadScript:function(e){e.forEach((function(e){const i=t.createElement("script");i.src=e,i.async=!0,c.appendChild(i)}))}};e.addEventListener("load",(function(){y.classList.remove("active"),M.page.loaded(),e.lazyScripts&&e.lazyScripts.length&&M.loadScript(e.lazyScripts)})),e.addEventListener("DOMContentLoaded",(function(){const e=b.scrollTop;M.toc.fixed(e),M.toc.actived(e),M.page.loaded()}));let k=!1;const A=r('a[href^="mailto"]');A&&A.addEventListener(O,(function(){k=!0})),e.addEventListener("beforeunload",(function(){k?k=!1:M.page.unload()})),e.addEventListener("pageshow",(function(){M.page.visible||M.page.loaded()})),e.addEventListener("resize",(function(){O="ontouchstart"in e?"touchstart":"click",e.BLOG.even=O,M.toggleMenu()})),h.addEventListener(O,(function(){$(M.goTop.bind(M,0))}),!1),p.addEventListener(O,(function(e){M.toggleMenu(!0),e.preventDefault()}),!1),v.addEventListener(O,(function(){u.classList.add("hide"),w||(f.classList.add("menuoff"),jQuery(L).animate({marginRight:"15%"}))}),!1),g.addEventListener(O,(function(e){M.toggleMenu(),M.hideOnMask.forEach((function(e){e()})),e.preventDefault()}),!1),t.addEventListener("scroll",(function(){const e=b.scrollTop;M.toggleGotop(e),M.fixedHeader(e),M.toc.fixed(e),M.toc.actived(e)}),!1),e.BLOG.SHARE&&w&&M.share(),e.BLOG.REWARD&&M.reward(),M.noop=x,M.even=O,M.$=r,M.$$=l,Object.keys(M).reduce((function(e,t){return e[t]=M[t],e}),e.BLOG),e.Waves?(Waves.init(),Waves.attach(".global-share li",["waves-block"]),Waves.attach(".article-tag-list-link, #page-nav a, #page-nav span",["waves-button"])):console.error("Waves loading failed.")}(window,document),function(){const e=window||this,t=e.BLOG.even,i=e.BLOG.$,n=i("#search"),s=i("#search-wrap"),o=i("#key"),a=i("#back"),c=i("#search-panel"),r=i("#search-result"),l=i("#search-tpl").innerHTML,d=`${e.BLOG.ROOT}/content.json`.replace(/\/{2}/g,"/");let h;const u=i("html"),f=function(){e.innerWidth<760&&u.classList.add("lock-size"),c.classList.add("in")},m=function(){e.innerWidth<760&&u.classList.remove("lock-size"),c.classList.remove("in")};function g(e,t){return t.lastIndex=0,t.test(e)}function p(t){const i=this.value.trim();if(!i)return;nkey=i.replace(/[(]/g,"\\(").replace(/[)]/g,"\\)");const n=new RegExp(nkey.replace(/[ ]/g,"|"),"gmi");!function(e){if(h)e(h);else{const t=new XMLHttpRequest;t.open("GET",d,!0),t.onload=function(){if(this.status>=200&&this.status<300){const t=JSON.parse(this.response);h=t instanceof Array?t:t.posts,e(h)}else console.error(this.statusText)},t.onerror=function(){console.error(this.statusText)},t.send()}}((function(t){!function(t){let i="";i=t.length?t.map((function(t){return function(e,t){return e.replace(/\{\w+\}/g,(function(e){const i=e.replace(/\{|\}/g,"");return t[i]||""}))}(l,{title:t.title,path:`${e.BLOG.ROOT}/${t.path}`.replace(/\/{2,}/g,"/"),date:new Date(t.date).toLocaleDateString(),tags:t.tags.map((function(e){return`<span>#${e.name}</span>`})).join("")})})).join(""):'<li class="tips"><i class="icon icon-coffee icon-3x"></i><p>Results not found!</p></li>',r.innerHTML=i}(t.filter((function(e){return function(e,t){return g(e.title,t)||e.tags.some((function(e){return g(e.name,t)}))||g(e.text,t)}(e,n)}))),f()})),t.preventDefault()}n.addEventListener(t,(function(){s.classList.toggle("in"),o.value="",s.classList.contains("in")?o.focus():o.blur()})),a.addEventListener(t,(function(){s.classList.remove("in"),m()})),document.addEventListener(t,(function(e){"key"!==e.target.id&&"click"===t&&m()})),o.addEventListener("input",p),o.addEventListener(t,p);var v=document.getElementsByClassName("nav")[0],L=document.createElement("link");L.rel="stylesheet",L.href="/blog/dist/APlayer.min.css",v.appendChild(L);var y=document.createElement("div");y.id="aplayer",v.appendChild(y);var w=document.createElement("script");w.type="text/javascript",w.src="/blog/dist/APlayer.min.js",v.appendChild(w),window.onload=function(){var e=document.createElement("script");e.type="text/javascript",e.src="/blog/dist/music.js",v.appendChild(e)}}.call(this);