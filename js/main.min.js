!function(e,t){let i="",n=sessionStorage.getItem("ISSUES-STR");const s=["ad2e32","4c82c521ead6ff8","197e482a62695433637"].join("");n||async function(){const e=axios.create({headers:{accept:"application/json",authorization:"bearer ".concat(s),"content-type":"application/json;charset=UTF-8"}});i=await e.post("https://api.github.com/graphql",'{"operationName":"getIssues","query":"\\n  query getIssues($owner: String!, $repo: String!, $cursor: String, $pageSize: Int!) {\\n    repository(owner: $owner, name: $repo) {\\n      issues(first: $pageSize, after: $cursor, orderBy: {field: CREATED_AT, direction: DESC}, filterBy: {createdBy: $owner, states: OPEN}) {\\n        pageInfo {\\n          hasNextPage\\n          endCursor\\n        }\\n        nodes {\\n          id\\n          number\\n          createdAt\\n          bodyHTML\\n          comments(first: 1) {\\n            totalCount\\n          }\\n          labels(first: 1) {\\n            nodes {\\n              name\\n              color\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n  ","variables":{"owner":"ym-first","repo":"ymBlog","pageSize":6}}');i.data.data.repository.issues.nodes.forEach((e=>{let t=function(e,t){var i=6e4,n=36e5,s=864e5,o=2592e6,a=31536e6,c=e-t;let r;return c<i?(r=Math.round(c/1e3),r>1?r+" seconds ago":r+" second ago"):c<n?(r=Math.round(c/i),r>1?r+" minutes ago":r+" minute ago"):c<s?(r=Math.round(c/n),r>1?r+" hours ago":r+" hour ago"):c<o?(r=Math.round(c/s),r>1?r+" days ago":r+" day ago"):c<a?(r=Math.round(c/o),r>1?r+" months ago":r+" month ago"):(r=Math.round(c/a),r>1?r+" years ago":r+" year ago")}((new Date).getTime(),new Date(e.createdAt).getTime());n+='<div class="is-issue-content"><em>üçì Yummyü•ù </em><pre class="cacher-snippet-code"><div class="ca-hljs">'+e.bodyHTML+'</div></pre><div class="cacher-snippet-footer" id="snippetFoot"><em>'+t+"</em></div></div>"})),sessionStorage.setItem("ISSUES-STR",n),document.querySelector("#microw").innerHTML=n}(),window.onload=function(){document.querySelector("#microw").innerHTML=n},window.onload();const o=t.body,a=t.querySelector.bind(t),c=t.querySelectorAll.bind(t),r=a("html"),d=a("#gotop"),l=a("#menu"),h=a("#main"),u=a("#header"),f=a("#mask"),m=a("#menu-toggle"),g=a("#menu-off"),p=a(".header-title"),v=a("#loading"),L=-1!==location.href.indexOf("post"),w=e.requestAnimationFrame,y=Array.prototype.forEach,$=/micromessenger/i.test(navigator.userAgent),E=function(){},S=function(e){let t=e.offsetLeft,i=e.offsetTop;if(e.offsetParent){const n=arguments.callee(e.offsetParent);t+=n.x,i+=n.y}return{x:t,y:i}};let T="ontouchstart"in e&&/Mobile|Android|iOS|iPhone|iPad|iPod|Windows Phone|KFAPWI/i.test(navigator.userAgent)?"touchstart":"click",x=t.documentElement;e.innerWidth>600?(window.navigator.userAgent.indexOf("WOW")>-1||window.navigator.userAgent.indexOf("Edge")>-1||window.navigator.userAgent.indexOf("MSIE")>-1)&&-1===window.navigator.userAgent.indexOf("Trident")&&(x=o):window.navigator.userAgent.indexOf("Android")>-1&&window.navigator.userAgent.indexOf("Browser")>-1&&(x=o);const b={goTop:function(e){const t=x.scrollTop,i=arguments.length>2?arguments[1]:Math.abs(t-e)/12;t&&t>e?(x.scrollTop=Math.max(t-i,0),w(arguments.callee.bind(this,e,i))):e&&t<e?(x.scrollTop=Math.min(t+i,e),w(arguments.callee.bind(this,e,i))):this.toc.actived(e)},toggleGotop:function(t){t>e.innerHeight/2?d.classList.add("in"):d.classList.remove("in")},toggleMenu:function(t){if(t){if(l.classList.remove("hide"),L||(h.classList.remove("menuoff"),jQuery(p).animate({marginRight:"15%"})),e.innerWidth<1241)if(f.classList.add("in"),l.classList.add("show"),$){const e=x.scrollTop;h.classList.add("lock"),h.scrollTop=e}else r.classList.add("lock")}else if(f.classList.remove("in"),l.classList.remove("show"),$){const e=h.scrollTop;h.classList.remove("lock"),x.scrollTop=e}else r.classList.remove("lock")},fixedHeader:function(e){e>u.clientHeight?u.classList.add("fixed"):u.classList.remove("fixed")},toc:function(){const e=a("#post-toc");if(!e||!e.children.length)return L&&h.classList.add("show"),{fixed:E,actived:E};const t=a(".post-header").clientHeight,i=u.clientHeight,n=a("#post-content").querySelectorAll("h1, h2, h3, h4, h5, h6");return e.querySelector(`a[href="#${n[0].id}"]`).parentNode.classList.add("active"),h.classList.add("tocshow"),p.classList.add("toc"),a(".footer").classList.add("toc"),{fixed:function(n){n>=t-i?e.classList.add("fixed"):e.classList.remove("fixed")},actived:function(t){for(let s=0,o=n.length;s<o;s++)if(t>S(n[s]).y-i-5){e.querySelector("li.active").classList.remove("active");e.querySelector(`a[href="#${n[s].id}"]`).parentNode.classList.add("active")}t<S(n[0]).y&&(e.querySelector("li.active").classList.remove("active"),e.querySelector(`a[href="#${n[0].id}"]`).parentNode.classList.add("active"))}}}(),hideOnMask:[],modal:function(i){this.$modal=a(i),this.$off=this.$modal.querySelector(".close");const n=this;this.show=function(){f.classList.add("in"),e.innerWidth>800&&(h.classList.add("Mask"),l.classList.add("Mask")),n.$modal.classList.add("ready"),setTimeout((function(){n.$modal.classList.add("in")}),0)},this.onHide=E,this.hide=function(){if(n.onHide(),f.classList.remove("in"),e.innerWidth>800){h.classList.remove("Mask"),l.classList.remove("Mask");const e=t.querySelector(".imgShow");e&&document.body.removeChild(e)}n.$modal.classList.remove("in"),setTimeout((function(){n.$modal.classList.remove("ready")}),300)},this.toggle=function(){return n.$modal.classList.contains("in")?n.hide():n.show()},b.hideOnMask.push(this.hide),this.$off&&this.$off.addEventListener(T,this.hide)},share:function(){const e=a("#pageShare"),i=a("#shareFab"),n=new this.modal("#globalShare");i&&(i.addEventListener(T,(function(){e.classList.toggle("in")}),!1),t.addEventListener(T,(function(t){i.contains(t.target)||e.classList.remove("in")}),!1));const s=new this.modal("#wxShare");s.onHide=n.hide,y.call(c(".wxFab"),(function(e){e.addEventListener(T,s.toggle)}))},reward:function(){const e=new this.modal("#reward"),t=a("#rewardCode"),i=a("#rewardToggle");let n=!1,s=-1;const o=a(".wechatPay"),c=a(".alipayPay"),r=a(".icon-caret-up");a("#rewardBtn").addEventListener(T,(function(){-1===s?t.src=t.dataset.img:1===s?t.src=i.dataset.alipay:0===s&&(t.src=i.dataset.wechat),e.toggle()})),o.addEventListener("click",(function(){n=!0})),i&&i.addEventListener("change",(function(){this.checked?n?(t.src=this.dataset.wechat,c.classList.remove("show"),o.classList.add("show"),r.style="margin-left:-20%;",s=0):(t.src=this.dataset.alipay,c.classList.add("show"),o.classList.remove("show"),r.style="margin-left:20%;",this.checked=!1,s=1):(t.src=this.dataset.alipay,c.classList.add("show"),o.classList.remove("show"),r.style="margin-left:20%;",s=1)}))},tabBar:function(e){e.parentNode.parentNode.classList.toggle("expand")},page:function(){const e=c(".fade, .fade-scale");let t=!1;return{loaded:function(){y.call(e,(function(e){e.classList.add("in")})),t=!0},unload:function(){y.call(e,(function(e){e.classList.remove("in")})),t=!1},visible:t}}(),lightbox:function(){function i(i){let n,s,a,c,r;this.$img=i.querySelector("img"),this.$overlay=i.querySelector("overlay"),this.margin=40,this.title=this.$img.title||this.$img.alt||"",this.isZoom=!1,this.calcRect=function(){c=o.clientWidth,r=o.clientHeight;const e=r-2*this.margin;let t=n,i=s;this.margin;const d=t>c?c/t:1,l=i>e?e/i:1,h=Math.min(d,l);return t*=h,i*=h,{w:t,h:i,t:(r-i)/2-a.top,l:(c-t)/2-a.left+this.$img.offsetLeft}},this.setImgRect=function(e){this.$img.style.cssText=`width: ${e.w}px; max-width: ${e.w}px; height:${e.h}px; top: ${e.t}px; left: ${e.l}px`},this.setFrom=function(){this.setImgRect({w:a.width,h:a.height,t:0,l:(i.offsetWidth-a.width)/2})},this.setTo=function(){this.setImgRect(this.calcRect())},this.addTitle=function(){this.title&&(this.$caption=t.createElement("div"),this.$caption.innerHTML=this.title,this.$caption.className="overlay-title",i.appendChild(this.$caption))},this.removeTitle=function(){this.$caption&&i.removeChild(this.$caption)};const d=this;this.zoomIn=function(){n=this.$img.naturalWidth||this.$img.width,s=this.$img.naturalHeight||this.$img.height,a=this.$img.getBoundingClientRect(),i.style.height=`${a.height}px`,i.classList.add("ready"),this.setFrom(),this.addTitle(),this.$img.classList.add("zoom-in"),setTimeout((function(){i.classList.add("active"),d.setTo(),d.isZoom=!0}),0)},this.zoomOut=function(){this.isZoom=!1,i.classList.remove("active"),this.$img.classList.add("zoom-in"),this.setFrom(),setTimeout((function(){d.$img.classList.remove("zoom-in"),d.$img.style.cssText="",d.removeTitle(),i.classList.remove("ready"),i.removeAttribute("style")}),300)},i.addEventListener("click",(function(e){d.isZoom?d.zoomOut():"IMG"===e.target.tagName&&d.zoomIn()})),t.addEventListener("scroll",(function(){d.isZoom&&d.zoomOut()})),e.addEventListener("resize",(function(){d.isZoom&&d.zoomOut()}))}y.call(c(".img-lightbox"),(function(e){new i(e)}))}(),loadScript:function(e){e.forEach((function(e){const i=t.createElement("script");i.src=e,i.async=!0,o.appendChild(i)}))}};e.addEventListener("load",(function(){v.classList.remove("active"),b.page.loaded(),e.lazyScripts&&e.lazyScripts.length&&b.loadScript(e.lazyScripts)})),e.addEventListener("DOMContentLoaded",(function(){const e=x.scrollTop;b.toc.fixed(e),b.toc.actived(e),b.page.loaded()}));let M=!1;const O=a('a[href^="mailto"]');O&&O.addEventListener(T,(function(){M=!0})),e.addEventListener("beforeunload",(function(){M?M=!1:b.page.unload()})),e.addEventListener("pageshow",(function(){b.page.visible||b.page.loaded()})),e.addEventListener("resize",(function(){T="ontouchstart"in e?"touchstart":"click",e.BLOG.even=T,b.toggleMenu()})),d.addEventListener(T,(function(){w(b.goTop.bind(b,0))}),!1),m.addEventListener(T,(function(e){b.toggleMenu(!0),e.preventDefault()}),!1),g.addEventListener(T,(function(){l.classList.add("hide"),L||(h.classList.add("menuoff"),jQuery(p).animate({marginRight:"15%"}))}),!1),f.addEventListener(T,(function(e){b.toggleMenu(),b.hideOnMask.forEach((function(e){e()})),e.preventDefault()}),!1),t.addEventListener("scroll",(function(){const e=x.scrollTop;b.toggleGotop(e),b.fixedHeader(e),b.toc.fixed(e),b.toc.actived(e)}),!1),e.BLOG.SHARE&&L&&b.share(),e.BLOG.REWARD&&b.reward(),b.noop=E,b.even=T,b.$=a,b.$$=c,Object.keys(b).reduce((function(e,t){return e[t]=b[t],e}),e.BLOG),e.Waves?(Waves.init(),Waves.attach(".global-share li",["waves-block"]),Waves.attach(".article-tag-list-link, #page-nav a, #page-nav span",["waves-button"])):console.error("Waves loading failed.")}(window,document),function(){const e=window||this,t=e.BLOG.even,i=e.BLOG.$,n=i("#search"),s=i("#search-wrap"),o=i("#key"),a=i("#back"),c=i("#search-panel"),r=i("#search-result"),d=i("#search-tpl").innerHTML,l=`${e.BLOG.ROOT}/content.json`.replace(/\/{2}/g,"/");let h;const u=i("html"),f=function(){e.innerWidth<760&&u.classList.add("lock-size"),c.classList.add("in")},m=function(){e.innerWidth<760&&u.classList.remove("lock-size"),c.classList.remove("in")};function g(e,t){return t.lastIndex=0,t.test(e)}function p(t){const i=this.value.trim();if(!i)return;nkey=i.replace(/[(]/g,"\\(").replace(/[)]/g,"\\)");const n=new RegExp(nkey.replace(/[ ]/g,"|"),"gmi");!function(e){if(h)e(h);else{const t=new XMLHttpRequest;t.open("GET",l,!0),t.onload=function(){if(this.status>=200&&this.status<300){const t=JSON.parse(this.response);h=t instanceof Array?t:t.posts,e(h)}else console.error(this.statusText)},t.onerror=function(){console.error(this.statusText)},t.send()}}((function(t){!function(t){let i="";i=t.length?t.map((function(t){return function(e,t){return e.replace(/\{\w+\}/g,(function(e){const i=e.replace(/\{|\}/g,"");return t[i]||""}))}(d,{title:t.title,path:`${e.BLOG.ROOT}/${t.path}`.replace(/\/{2,}/g,"/"),date:new Date(t.date).toLocaleDateString(),tags:t.tags.map((function(e){return`<span>#${e.name}</span>`})).join("")})})).join(""):'<li class="tips"><i class="icon icon-coffee icon-3x"></i><p>Results not found!</p></li>',r.innerHTML=i}(t.filter((function(e){return function(e,t){return g(e.title,t)||e.tags.some((function(e){return g(e.name,t)}))||g(e.text,t)}(e,n)}))),f()})),t.preventDefault()}n.addEventListener(t,(function(){s.classList.toggle("in"),o.value="",s.classList.contains("in")?o.focus():o.blur()})),a.addEventListener(t,(function(){s.classList.remove("in"),m()})),document.addEventListener(t,(function(e){"key"!==e.target.id&&"click"===t&&m()})),o.addEventListener("input",p),o.addEventListener(t,p);var v=document.getElementsByClassName("nav")[0],L=document.createElement("link");L.rel="stylesheet",L.href="/blog/dist/APlayer.min.css",v.appendChild(L);var w=document.createElement("div");w.id="aplayer",v.appendChild(w);var y=document.createElement("script");y.type="text/javascript",y.src="/blog/dist/APlayer.min.js",v.appendChild(y),window.onload=function(){var e=document.createElement("script");e.type="text/javascript",e.src="/blog/dist/music.js",v.appendChild(e)}}.call(this);